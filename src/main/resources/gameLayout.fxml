<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>
<Pane xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.comp2042.controller.GuiController" prefWidth="1080" prefHeight="720">

    <VBox fx:id="homeMenu" alignment="CENTER" spacing="40" prefWidth="1080" prefHeight="720"
          style="-fx-background-color: linear-gradient(to bottom, #1a1a2e, #16213e);">
        <Label text="TETRIS"
               style="-fx-text-fill: white; -fx-font-size: 72px; -fx-font-weight: bold; -fx-font-family: 'Arial Black';"/>
        <VBox alignment="CENTER" spacing="20">
            <Button fx:id="startButton" mnemonicParsing="false" onAction="#startGame" text="START GAME"
                    style="-fx-background-color: #23c42a; -fx-text-fill: white; -fx-font-size: 24px; -fx-padding: 15 40; -fx-font-weight: bold;"/>
            <Button fx:id="homeLeaderboardButton" mnemonicParsing="false" onAction="#showLeaderboard" text="LEADERBOARD"
                    style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 20px; -fx-padding: 12 30;"/>
            <Button fx:id="exitButton" mnemonicParsing="false" onAction="#quitGame" text="EXIT"
                    style="-fx-background-color: #c43737; -fx-text-fill: white; -fx-font-size: 20px; -fx-padding: 12 30;"/>
        </VBox>
    </VBox>

    <StackPane fx:id="gameBoard" styleClass="gameBoard" layoutX="340" layoutY="40" prefWidth="200" prefHeight="360">
        <GridPane fx:id="gamePanel" alignment="CENTER"/>
    </StackPane>

    <GridPane fx:id="brickPanel" layoutX="360" layoutY="60"/>

    <VBox fx:id="leftSidebar" alignment="TOP_CENTER" spacing="25" layoutX="60" layoutY="60" prefWidth="250"
          visible="false">
        <VBox alignment="CENTER" spacing="15">
            <Label text="SCORES" textFill="white"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-underline: true;"/>
            <VBox alignment="CENTER_LEFT" spacing="12">
                <Label fx:id="highScoreLabel" text="High Score: 0" textFill="beige"
                       style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
                <Label fx:id="scoreLabel" text="Score: 0" textFill="#52b49b"
                       style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
            </VBox>
        </VBox>

        <VBox alignment="CENTER" spacing="15">
            <Button fx:id="leaderboardButton" mnemonicParsing="false" onAction="#showLeaderboard" text="LEADERBOARD"
                    style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 25;"/>
            <Button fx:id="pauseButton" mnemonicParsing="false" onAction="#pauseGame" text="PAUSE (P)"
                    style="-fx-background-color: #23c42a; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 25; -fx-font-weight: bold;"/>
            <Button fx:id="backToMenuButton" mnemonicParsing="false" onAction="#backToMainMenu" text="MAIN MENU"
                    style="-fx-background-color: #c43737; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 25;"/>
        </VBox>
    </VBox>

    <VBox fx:id="rightSidebar" alignment="TOP_CENTER" spacing="25" layoutX="700" layoutY="60" prefWidth="250"
          visible="false">
        <VBox alignment="CENTER" spacing="12">
            <Label text="HOLD" textFill="white"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-underline: true;"/>
            <GridPane fx:id="holdPiecePanel"
                      style="-fx-border-color: #555; -fx-border-width: 2; -fx-border-radius: 8; -fx-padding: 10;"/>
            <Button fx:id="holdButton" mnemonicParsing="false" onAction="#holdPiece" text="HOLD (C)"
                    style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 8 20; -fx-font-weight: bold;"/>
        </VBox>

        <VBox alignment="CENTER" spacing="15">
            <Label text="NEXT PIECES" textFill="white"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-underline: true;"/>
            <HBox alignment="CENTER" spacing="8">
                <VBox alignment="CENTER" spacing="5">
                    <Label text="1st" textFill="lightgray" style="-fx-font-size: 14px;"/>
                    <GridPane fx:id="nextPiecePanel1"
                              style="-fx-border-color: #555; -fx-border-width: 2; -fx-border-radius: 8; -fx-padding: 8;"/>
                </VBox>
                <VBox alignment="CENTER" spacing="5">
                    <Label text="2nd" textFill="lightgray" style="-fx-font-size: 14px;"/>
                    <GridPane fx:id="nextPiecePanel2"
                              style="-fx-border-color: #555; -fx-border-width: 2; -fx-border-radius: 8; -fx-padding: 8;"/>
                </VBox>
                <VBox alignment="CENTER" spacing="5">
                    <Label text="3rd" textFill="lightgray" style="-fx-font-size: 14px;"/>
                    <GridPane fx:id="nextPiecePanel3"
                              style="-fx-border-color: #555; -fx-border-width: 2; -fx-border-radius: 8; -fx-padding: 8;"/>
                </VBox>
            </HBox>
        </VBox>
    </VBox>

    <Group fx:id="groupNotification" layoutX="540" layoutY="360" visible="false">
        <VBox alignment="CENTER" spacing="20"
              style="-fx-background-color: rgba(0,0,0,0.9); -fx-background-radius: 15; -fx-padding: 30;">
            <Label text="GAME OVER" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
            <HBox alignment="CENTER" spacing="15">
                <Button fx:id="restartFromGameOver" mnemonicParsing="false" onAction="#restartGame" text="PLAY AGAIN"
                        style="-fx-background-color: #23c42a; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 20;"/>
                <Button fx:id="mainMenuFromGameOver" mnemonicParsing="false" onAction="#backToMainMenu" text="MAIN MENU"
                        style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 20;"/>
            </HBox>
        </VBox>
    </Group>

    <VBox fx:id="pauseMenu" alignment="CENTER" layoutX="390" layoutY="210" prefHeight="300" prefWidth="300"
          spacing="25" visible="false"
          style="-fx-background-color: rgba(0,0,0,0.9); -fx-background-radius: 15; -fx-padding: 30;">
        <Label text="GAME PAUSED" textFill="white" style="-fx-font-size: 28px; -fx-font-weight: bold;"/>
        <Button fx:id="restartButton" mnemonicParsing="false" onAction="#restartGame" text="RESTART"
                style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 18px; -fx-padding: 12 30;"/>
        <Button fx:id="backToMenuFromPause" mnemonicParsing="false" onAction="#backToMainMenu" text="MAIN MENU"
                style="-fx-background-color: #4a4a4a; -fx-text-fill: white; -fx-font-size: 18px; -fx-padding: 12 30;"/>
        <Button fx:id="quitButton" mnemonicParsing="false" onAction="#quitGame" text="QUIT"
                style="-fx-background-color: #c43737; -fx-text-fill: white; -fx-font-size: 18px; -fx-padding: 12 30;"/>
    </VBox>

    <VBox fx:id="leaderMenu" alignment="CENTER" prefHeight="400" prefWidth="400" visible="false" layoutX="340"
          layoutY="160" spacing="25"
          style="-fx-background-color: rgba(0,0,0,0.9); -fx-background-radius: 15; -fx-padding: 30;">
        <Label text="LEADERBOARD" textFill="GOLD" style="-fx-font-size: 32px; -fx-font-weight: bold;"/>
        <VBox fx:id="leaderboardList" alignment="CENTER" prefHeight="200" prefWidth="300" spacing="12"/>
        <Button fx:id="closeLeaderboardButton" mnemonicParsing="false" onAction="#closeLeaderboard" text="CLOSE"
                style="-fx-background-color: #c43737; -fx-text-fill: white; -fx-font-size: 18px; -fx-padding: 12 30;"/>
    </VBox>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</Pane>